!function(e,i,t){"use strict";var r,n=["2427b0a9f767454bbecd34d6d9cb25a5"],s=e[t];if(!0===s.loadFlag){console.log("groobee.js is already loaded !!");return}s.loadFlag=!0,s.isManualInit=!1,window.console=window.console||{log:function(){}},s.dnmTimeOut={};var o={};function a(e){if(c("grb:loadScript src - "+e),!window.frames.groobeeBox.document.querySelector('script[src="'+e+'"]')){var t=window.frames.groobeeBox.document.getElementsByTagName("head")[0],r=i.createElement("script");r.type="text/javascript",r.src=e,r.async=!1;try{t.appendChild(r)}catch(n){r.text=e,t.appendChild(r)}}}function c(e){console&&s.isDev&&console.log(e)}function u(e,t,r){var n=new Date;r>=1?n.setHours(n.getHours()+r):n.setTime(n.getTime()+36e5*r),n.setHours(n.getHours()+r);var s=e+"="+escape(t)+"; path=/ ";s+=";expires="+n.toGMTString()+";",s+="; domain=."+v()+";",i.cookie=s}function l(){var i,t,u,l,f,b;if(!navigator.userAgent.match(/AdsBot|Googlebot|(?=.*Yeti)(?=.*naver.me).*|daum/i)){for(i=0,s.i={};i<s.q.length;i++)if(l=(u=s.q[i])[0],2==u.length)s.i[l]=u[1];else if(u.length>2){for(t=1,f=[];t<u.length;t++)f.push(u[t]);s.i[l]=f}if(e.sumKey=function e(i){for(var t=0,r=0,n=function(e,i,t){return Number("0x"+e.substring(i,i+t))},s=function(e){return e.toString(16).split("").reverse().join("").substring(0,4)},o=0;o<i.length;o+=4)o%8==0?t+=n(i,o,4):r+=n(i,o,4);return s(t)+s(r)}(s.i.serviceKey),h("grb_permission")){console.log("This site is an unauthorized user.");return}s.i.authUrl&&(r=s.i.authUrl),(b=document.createElement("iframe")).setAttribute("id","groobeeBox"),b.setAttribute("name","groobeeBox"),b.style.display="none",b.onload=function(){Object.keys(o).forEach(function(e){a(o[e])}),function e(){if(c("grb: BxSlider loaded."),("fail"!=h("grb_id_permission")&&"fail"!=h("grb_ip_permission")||(c("grb:Failed to auth. Because server authentication failed."),0))&&s.i.serviceKey){var i=g();r="https://gau.groobeecsap.io/auth/"+s.i.serviceKey;var t=new XMLHttpRequest;t.open("POST",r,!0),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.onload=function(){this.status>=200&&this.status<400?d(JSON.parse(this.response)):p()},t.onerror=function(){p()},t.send(JSON.stringify(i))}}()},document.body.appendChild(b),s.ver||(s.ver=[]),s.ver.push("i13600"),-1!=n.indexOf(s.i.serviceKey)&&(s.loadFlag=!1)}}function d(e){if("success"==e.resultCode)try{var i;""==h("grb_id_permission")&&u("grb_id_permission@"+sumKey,"success",1),""==h("grb_ip_permission")&&u("grb_ip_permission@"+sumKey,"success",1),""==$("grb_dynamic_list@")&&u("grb_dynamic_list@","checked,"+e.dynamicList,.5),i=e,s.i.deviceType=i.deviceType,s.i.groobeeId=i.groobeeId,s.i.isSetGroobeeId=i.isSetGroobeeId,s.i.waitingTime=i.waitingTime,s.i.productCd=i.productCd,c("grb:runSuccessCallback data - "+JSON.stringify(i)),function e(i){c("grb: start up."),s.i.autoOption=JSON.parse(i.autoOption),s.i.siteUrls=null!=i.urlPc?JSON.parse(i.urlPc):JSON.parse(i.urlMobile),s.frontScriptUrl=i.frontScriptUrl,s.optEnv=JSON.parse(i.optEnv),s.isDev=s.optEnv.isDev;var t=null!=i.optCss?JSON.parse(i.optCss):{},r=null!=i.optJs?JSON.parse(i.optJs):{};s.jqueryCss=null!=t.jqueryCss?t.jqueryCss:"//static.groobeecsap.io/dist/g2/css/jquery-ui.css",s.swiperCss=null!=t.swiperCss?t.swiperCss:"//static.groobeecsap.io/dist/g2/css/custom-swiper.css",s.recommendCss=null!=t.recommendCss?t.recommendCss:"//static.groobeecsap.io/dist/g2/css/grb-recommend-list_v2.css",s.jqueryUiJs=null!=r.jqueryUiCDN?r.jqueryUiCDN:"//static.groobeecsap.io/dist/g2/js/jquery-ui.min.js",s.swiperJs=null!=r.swiperJs?r.swiperJs:"//static.groobeecsap.io/dist/g2/js/custom-swiper-bundle.min.js";try{s.isManualInit?s.initCore(s.i):(a(s.jqueryUiJs),a(s.swiperJs),a(i.scriptUrl))}catch(n){c("load core.js err: "+(n.message?n.message:n))}}(i)}catch(t){c("grb:callback: err - "+t.message)}else"closed"==e.resultCode?b("grb_permission","F",7):(""==h("grb_id_permission")&&u("grb_id_permission@"+sumKey,"fail",1),""==h("grb_ip_permission")&&u("grb_ip_permission@"+sumKey,"fail",1),c("grb:Failed to auth. Because server authentication failed."))}function g(){var e,i,t,r,n={};return n.deviceType=navigator.userAgent.match(/Android|BlackBerry|Mobile|iPhone|iPad|iPod|OperaMini|IEMobile/i)?navigator.userAgent.match(/Tablet|iPad/i)?"TA":!function e(){try{return navigator.userAgent.match(/webview_android|webview_iphone/i)}catch(i){return!1}}()?"MW":"MA":"PC",n.domain=(e=location.href,i=e.indexOf("?"),t=e.split("/"),r=i>-1?e.substring(0,i):t.length>4?e.substring(0,e.indexOf(t[2])+t[2].length+t[3].length+2):e,r.substring(r.indexOf("//")+2)),n.cookieId=m(),n.userId=y("grb_ui",f()),n.ipPermission=h("grb_ip_permission"),n.idPermission=h("grb_id_permission"),n.dnmList=$("grb_dynamic_list@"),n.serviceKey=s.i.serviceKey,n}function p(){"hidden"==document.querySelector("html").style.visibility&&(document.querySelector("html").style.visibility="visible")}function f(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}function b(e,t,r){var n,s,o,a,c;n=e+"@"+sumKey,s=t,o=r,a=new Date,o||(o=1e4),a.setDate(a.getDate()+o),c=n+"="+escape(s)+"; path=/ ",c+=";expires="+a.toGMTString()+";",c+="; domain=."+v()+";",i.cookie=c}function h(i){return $(i+"@"+e.sumKey)}function $(e){for(var t=e+"=",r=i.cookie.split(";"),n=0;n<r.length;n++){for(var s=r[n];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return unescape(s.substring(t.length,s.length))}return""}function m(){return y("grb_ck",f())}function y(e,i,t){var r=h(e);return""==r||"479227d2-37c0-efff-a4bd-4b8b9ec1d018"===r||"5ceebc72-ef26-553d-b606-6081c5d03c52"===r?(b(e,i,t),h(e)):r}function v(){var e=window.location.hostname.split("."),i=["kr","jp","cn","us"],t=!0;return["co","go","or","ac","ne"].forEach(function(r){i.forEach(function(i){e.length>1&&r==e[e.length-2]&&i==e[e.length-1]&&(t=!1)})}),e.slice(0).slice(-(4===e.length||!1===t?3:2)).join(".")}o.URL_JQUERY="//static.groobeecsap.io/dist/g2/js/jquery-1.12.1.min.js",window.addEventListener&&(e.addEventListener("message",function(e){-1!=(e.origin||e.originalEvent.origin).indexOf("admin.groobee.io")&&c("grb: onMessage >> "+e.data)},!1),function e(){try{var i,t;HTMLElement.prototype.__defineGetter__.length,i=document.createElement("body"),t=function(e){e.parentNode&&e.parentNode.removeChild(e)},HTMLElement.prototype.__defineGetter__("grbOuterHTML",function(){var e=i.appendChild(this.cloneNode(!0)),t=i.innerHTML;return i.removeChild(e),t}),HTMLElement.prototype.__defineSetter__("grbOuterHTML",function(e){if(e){if(this.parentNode){for(i.innerHTML=e;i.firstChild;)this.parentNode.insertBefore(i.firstChild,this);t(this),i.innerHTML=""}}else t(this)})}catch(r){c("grb:setGrbOuterHTML:error - "+r)}}(),function e(){for(var i=document.location.href.replace(/(^\w+:|^)\/\//,""),t=$("grb_dynamic_list@").split(","),r=0;r<t.length;r++)if(-1!=t[r].indexOf(i)){document.querySelector("html").style.visibility="hidden",s.dnmTimeOut=setTimeout(function(){document.querySelector("html").style.visibility="visible"},3e3);break}}(),"loading"==document.readyState?i.addEventListener("DOMContentLoaded",l):"complete"==document.readyState?l():e.addEventListener("load",l)),self!=top&&s("grbDisabled",!0),s.start=function(){!function e(){if(s.deleteGrbLayer(),s.isFirstPageLoad=!0,s.isManualInit=!0,s.i&&s.i.serviceKey){var i=g(),t=new XMLHttpRequest;t.open("POST",r,!0),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.onload=function(){this.status>=200&&this.status<400?d(JSON.parse(this.response)):p()},t.onerror=function(){p()},t.send(JSON.stringify(i))}}()},s.getCookie=function(e){return h(e)},s._getCookie=function(e){return $(e)},s.setCookie=function(e,i,t){b(e,i,t)},s.deleteCookie=function(e){b(e,"",-2e4)},s.getOrSetCookies=function(){return m()},s._getOrSetCookies=function(e,i){return y(e,i)},s.setCookieHour=function(e,i,t){u(e,i,t)},s.createUuid=function(){return f()},s.setVisible=function(){p()},s.loadCss=function(e){!function e(t){if(i.createStyleSheet)i.createStyleSheet(t);else{var r=i.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=t,i.getElementsByTagName("head")[0].appendChild(r)}}(e)},s.closeCampaign=function(){},s.initMessage=function(){},s.deleteGrbLayer=function(){var e=document.querySelectorAll("#groobeeWrap");Array.prototype.forEach.call(e,function(e){e.parentNode.removeChild(e)});var i=document.querySelectorAll(".grbLayer");Array.prototype.forEach.call(i,function(e){e.parentNode.removeChild(e)})},s.action=function(e,i){s(e,i)}}(window,document,"groobee");